<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>PROX-LOAD</title>
    <meta name="description" content="Discover and download the latest files and software from our extensive library. Upload your own content to share with the community.">
    <meta name="keywords" content="file sharing, file upload, file download, software, community">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f8f9fa;
            color: #333;
        }
        .container {
            max-width: 90%;
            margin: auto;
            padding: 20px 0;
        }
        .search-bar {
            text-align: center;
            margin-bottom: 30px;
        }
        .search-bar input {
            width: 90%;
            height: 40px;
            font-size: 1em;
            border: 2px solid #FFE7C1;
            padding: 10px;
            border-radius: 10px;
        }
        .search-bar input:focus {
            box-shadow: 0 0 3px 0 #ED1E79;
            border-color: #ED1E79;
            outline: none;
        }
        .results {
            margin: auto;
            width: 90%;
            margin-left: 5%;
        }
        .results .content {
            margin-top: 30px;
            display: flex;
            flex-wrap: wrap;
            justify-content: flex-start; /* Align items to the left */
            gap: 20px;
        }
        .results .content .item {
            width: calc(33.33% - 20px); /* Adjust width to fit three items per row */
            background: linear-gradient(to right, #F3CCF3, #E9A8F2);
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            padding: 20px;
        }
        .item .card-title {
            font-size: 1.2rem;
            margin-bottom: 10px;
        }
        .item .card-text {
            font-size: 14px;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 3; /* Limit description to 3 lines */
            -webkit-box-orient: vertical;
            margin-bottom: 10px;
        }
        .item .text-muted {
            font-size: 12px;
        }
        .item .btn-primary {
            align-self: flex-end; /* Align button to the bottom right */
        }
        .item div {
            width: 50%;
        }
        .item p {
            padding: 3px;
        }
        .item .icon {
            width: 50px;
            height: 50px;
            float: left;
            margin-right: 10px;
        }
        .item .title a, .item .title {
            color: #0F4C81;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            max-width: 30ch;
        }
        .item .size {
            color: rgba(0,0,0,0.5);
        }
        @media screen and (min-width: 768px) {
            .results .content {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        .warning {
            width: 100%;
            text-align: center;
            color: white;
            font-size: 25px;
        }
        .load {
            visibility: hidden;
            height: 100%;
            width: 100%;
            display: flex;
            justify-content: center;
        }
        .load .loader {
<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>PROX-LOAD</title>
    <meta name="description" content="Discover and download the latest files and software from our extensive library. Upload your own content to share with the community.">
    <meta name="keywords" content="file sharing, file upload, file download, software, community">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f8f9fa;
            color: #333;
        }
        .container {
            max-width: 90%;
            margin: auto;
            padding: 20px 0;
        }
        .search-bar {
            text-align: center;
            margin-bottom: 30px;
        }
        .search-bar input {
            width: 90%;
            height: 40px;
            font-size: 1em;
            border: 2px solid #FFE7C1;
            padding: 10px;
            border-radius: 10px;
        }
        .search-bar input:focus {
            box-shadow: 0 0 3px 0 #ED1E79;
            border-color: #ED1E79;
            outline: none;
        }
        .results {
            margin: auto;
            width: 90%;
            margin-left: 5%;
        }
        .results .content {
            margin-top: 30px;
            display: flex;
            flex-wrap: wrap;
            justify-content: flex-start;
            gap: 20px;
        }
        .results .content .item {
            width: calc(33.33% - 20px);
            background: linear-gradient(to right, #F3CCF3, #E9A8F2);
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            padding: 20px;
        }
        .item .card-title {
            font-size: 1.2rem;
            margin-bottom: 10px;
        }
        .item .card-text {
            font-size: 14px;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            margin-bottom: 10px;
        }
        .item .text-muted {
            font-size: 12px;
        }
        .item .btn-primary {
            align-self: flex-end;
        }
        .item div {
            width: 50%;
        }
        .item p {
            padding: 3px;
        }
        .item .icon {
            width: 50px;
            height: 50px;
            float: left;
            margin-right: 10px;
        }
        .item .title a, .item .title {
            color: #0F4C81;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            max-width: 30ch;
        }
        .item .size {
            color: rgba(0,0,0,0.5);
        }
        @media screen and (min-width: 768px) {
            .results .content {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        .warning {
            width: 100%;
            text-align: center;
            color: white;
            font-size: 25px;
        }
        .load {
            visibility: hidden;
            height: 100%;
            width: 100%;
            display: flex;
            justify-content: center;
        }
        .load .loader {
            margin-top: 50px;
            position: absolute;
        }
        .loader {
            width: 120px;
            height: 20px;
            -webkit-mask:linear-gradient(90deg, #000 70%,#0000 0) 0/20%;
            background:
                linear-gradient(#ED1E79 0 0) 0/0% no-repeat
                #ddd;
            animation: l4 2s infinite steps(6);
        }
        @keyframes l4 {
            100% {background-size:120%}
        }
        .proxload-header {
            background-color: #444;
            color: white;
            padding: 20px 0;
            text-align: center;
        }
        .proxload-header img {
            max-width: 80px;
            height: 150px;
        }
        .upload-section {
            padding: 20px 0;
            background-color: #f5f5f5;
        }
        .upload-section .card {
            margin-bottom: 20px;
            border-radius: 10px;
        }
        .featured-downloads {
            padding: 20px 0;
        }
        .featured-downloads .card {
            border: none;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
        }
        .featured-downloads .card-title {
            font-size: 1.2rem;
        }
        .featured-downloads .card-text {
            margin-bottom: 1rem;
        }
        .results .content .item .card-title {
            font-size: 1.2rem;
        }
        .file-icon {
            margin-right: 5px;
        }
    </style>
</head>
<body>
    <header class="proxload-header">
        <div class="container">
            <img src="https://i.ibb.co/P4TRxhx/Screenshot-20240625-180620-Instagram.jpg" alt="Proxload Logo">
            <p>COME, SEARCH & DOWNLOAD</p>
        </div>
    </header>
    <main class="container py-5">
        <section class="search-bar mb-5">
            <div class="row">
                <div class="col-md-12">
                    <form method="get" onsubmit="fetchData(); return false;">
                        <input type="search" name="keywords" id="keywords" placeholder="Search files and software...">
                    </form>
                </div>
            </div>
        </section>
        <section class="intro mb-5">
            <div class="row">
                <div class="col-md-7">
                    <h2 class="mb-3">Welcome to PROX-LOAD</h2>
                    <p>Discover and download the latest files and software from our extensive library. Upload your own content to share with the community.--BY PRESHAK</p>
                </div>
                <div class="col-md-5 d-flex align-items-center">
                    <button class="btn btn-primary btn-lg px-4 py-3 me-3" id="uploadButton" aria-label="Upload File">
                        <i class="fas fa-upload"></i> Upload File
                    </button>
                    <button class="btn btn-secondary btn-lg px-4 py-3" onclick="document.getElementById('fileList').scrollIntoView();" aria-label="View Files">
                        <i class="fas fa-eye"></i> View Files
                    </button>
                </div>
            </div>
        </section>
        <section class="upload-section mb-5">
            <h2 class="mb-4">Upload Your Files</h2>
            <div class="row">
                <div class="col-md-4 mb-4">
                    <div class="card">
                        <div class="card-body">
                            <h3 class="card-title"><i class="fas fa-upload"></i> Upload File</h3>
                            <p class="card-text">Share your files and software with the community.</p>
                            <button class="btn btn-primary btn-block" id="uploadButtonCard" aria-label="Upload">Upload</button>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="card">
                        <div class="card-body">
                            <h3 class="card-title">Upload Guidelines</h3>
                            <p class="card-text">Review our guidelines before uploading your file.</p>
                            <a href="#" class="btn btn-secondary btn-block" id="viewGuidelines" aria-label="View Guidelines">View Guidelines</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="card">
                        <div class="card-body">
                            <h3 class="card-title">Upload History</h3>
                                                        <p class="card-text">Check the status of your previous uploads and manage them.</p>
                            <a href="history.html" class="btn btn-secondary btn-block" aria-label="View Upload History">View Upload History</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class="featured-downloads mb-5">
            <h2 class="mb-4">Featured Downloads</h2>
            <div class="row">
                <div class="col-md-4 mb-4">
                    <div class="card shadow h-100">
                        <div class="card-body d-flex flex-column">
                            <h3 class="card-title"><i class="fas fa-download"></i> MINECRAFT</h3>
                            <p class="card-text">A popular video game for android 64 bit</p>
                            <p class="text-muted">12,345 downloads</p>
                            <a href="#" class="btn btn-primary mt-auto" id="adobeDownload" aria-label="Download Adobe Photoshop">Download</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="card shadow h-100">
                        <div class="card-body d-flex flex-column">
                            <h3 class="card-title"><i class="fas fa-download"></i> Microsoft Office (for Android)</h3>
                            <p class="card-text">The industry-leading productivity suite.</p>
                            <p class="text-muted">23,456 downloads</p>
                            <a href="#" class="btn btn-primary mt-auto" id="msOfficeDownload" aria-label="Download Microsoft Office">Download</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="card shadow h-100">
                        <div class="card-body d-flex flex-column">
                            <h3 class="card-title"><i class="fas fa-download"></i> Picsart Gold</h3>
                            <p class="card-text">The collaborative design tool for teams.</p>
                            <p class="text-muted">8,901 downloads</p>
                            <a href="#" class="btn btn-primary mt-auto" id="figmaDownload" aria-label="Download Figma Design">Download</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class="uploaded-files mb-5">
            <div class="row">
                <div class="col-12">
                    <h2 class="mb-4"></h2>
                </div>
                <div class="col-12">
                    <ul id="fileList" class="list-group"></ul>
                </div>
            </div>
        </section>
        <section class="search mb-5">
            <div class="row">
                <div class="col-md-12">
                    <div class="results">
                        <div class="content"></div>
                        <div class="load">
                            <div class="loader"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <footer><center>MADE WITH ❤️ BY PRESHAK</center></footer>
    <!-- Filestack JS -->
    <script src="https://static.filestackapi.com/filestack-js/3.x.x/filestack.min.js"></script>
    <script>
        const apiKey = 'your_filestack_api_key'; // Replace with your actual API key
        const client = filestack.init(apiKey);

        const uploadButton = document.getElementById('uploadButton');
        const uploadButtonCard = document.getElementById('uploadButtonCard');
        const fileList = document.getElementById('fileList');
        const loader = document.querySelector('.load');

        const openPicker = () => {
            client.picker({
                fromSources: ['local_file_system', 'url', 'googledrive', 'dropbox'],
                onUploadDone: (result) => {
                    const fileData = result.filesUploaded[0];
                    const listItem = document.createElement('li');
                    listItem.classList.add('list-group-item');
                    listItem.innerHTML = `
                        <a href="${fileData.url}" target="_blank" class="text-decoration-none">
                            <i class="fas fa-file"></i> ${fileData.filename}
                        </a>
                    `;
                    fileList.appendChild(listItem);
                }
            }).open();
        };

        uploadButton.addEventListener('click', openPicker);
        uploadButtonCard.addEventListener('click', openPicker);

        // Search Functionality
        const showLoad = () => {
            loader.style.visibility = "visible";
        }

        const hideLoad = () => {
            loader.style.visibility = "hidden";
        }

        async function getDownload(id) {
            try {
                const response = await fetch(`https://sfile-api.vercel.app/download/${id}`);
                return (await response.json()).data.url;
            } catch (error) {
                console.error("Error fetching data:", error);
                throw error;
            }
        }

        async function fetchData() {
            showLoad();
            const keywords = document.getElementById('keywords').value;
            const content = document.querySelector('.content');
            try {
                const response = await fetch(`https://sfile-api.vercel.app/search/${keywords}`);
                if (!response.ok) {
                    throw new Error("Failed to fetch data. Status: " + response.status);
                }
                const data = await response.json();

                if (data.data.data.length === 0) {
                    hideLoad();
                    const warning = document.createElement("p");
                    warning.className = "warning";
                    warning.innerHTML = "File Not Found :(";
                    content.appendChild(warning);
                } else {
                    content.innerHTML = ''; // Clear previous results
                    data.data.data.forEach(async (d) => {
                        const div = document.createElement("div");
                        const href = await getDownload(d.id);
                        div.className = "col-md-4 mb-4";
                        div.innerHTML = `
                           <div class="card shadow h-100" style="height: 300px; width: 400px;">
                               <div class="card-body d-flex flex-column">
                                   <h3 class="card-title">
                                       <i class="fas fa-download file-icon"></i> 
                                       ${d.title}
                                   </h3>
                                   <p class="card-text" style="font-size: 0.875em; overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical;">${d.description || ''}</p>
                                   <br><br>
                                   <p class="text-muted">Size: ${d.size}</p>
                                   <a href="${href}" download class="btn btn-primary mt-auto" aria-label="Download ${d.title}">Download</a>
                               </div>
                           </div>
                        `;
                        content.appendChild(div);
                    });
                    hideLoad();
                }
            } catch (error) {
                console.error(error);
                hideLoad();
            }
        }

        // Download Links
        const adobeDownloadLink = document.getElementById('adobeDownload');
        const msOfficeDownloadLink = document.getElementById('msOfficeDownload');
        const figmaDownloadLink = document.getElementById('figmaDownload');

        // Function to download files
        function downloadFile(url) {
            const link = document.createElement('a');
            link.href = url;
            link.download = 'file.zip'; // Change this to the desired filename
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // Set up download links (replace with actual download URLs)
        adobeDownloadLink.addEventListener('click', () => downloadFile('https://download2424.sfile.mobi/downloadfile/1652222/698721/c17417d78382b415bb52318adbfc5957/minecraft-1.17.10-by-mobile-.zip&k=6581eec0953aa9f4414e14710a087820')); // Replace with your actual download URL
        msOfficeDownloadLink.addEventListener('click', () => downloadFile('https://download2424.sfile.mobi/downloadfile/1666932/2/c17417d78382b415bb52318adbfc5957/com.microsoft.office.word-16.0.14026.20172-2002546108-minapi26-x86-64-nodpi-apkmirror.com.apk&k=69da7324662139e4b62f041dd7347164')); // Replace with your actual download URL
        figmaDownloadLink.addEventListener('click', () => downloadFile('https://download2424.sfile.mobi/downloadfile/668385/207037/c17417d78382b415bb52318adbfc5957/picsart-gold-v16.5.3-bolivarapkmods.apk&k=1fbdba335900e23dd883eefc6f88fab0')); // Replace with your actual download URL

        // View Guidelines Alert
        document.getElementById('viewGuidelines').addEventListener('click', function() {
            alert('Upload Guidelines:\n\n' +
                                    '- Ensure your files do not contain any copyrighted material without permission.\n' +
                  '- File names should be descriptive and accurate.\n' +
                  '- Avoid uploading duplicate files.\n' +
                  '- Comply with our community standards and guidelines.');
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
